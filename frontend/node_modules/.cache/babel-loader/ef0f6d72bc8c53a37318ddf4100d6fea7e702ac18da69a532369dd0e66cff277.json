{"ast":null,"code":"var _jsxFileName = \"/Users/mac/project/villa-parking-management/frontend/src/components/ParkingArea.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { useDrop } from 'react-dnd';\nimport DraggableResizableItem from './DraggableResizableItem';\nimport { ItemTypes } from './ItemTypes';\nimport '../styles/ParkingArea.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ParkingArea = ({\n  spaces,\n  moveSpace,\n  resizeSpace,\n  deleteSpace\n}) => {\n  _s();\n  const ref = useRef(null);\n  const [, drop] = useDrop(() => ({\n    accept: [ItemTypes.VILLA, ItemTypes.PARKING, ItemTypes.EXIT, ItemTypes.WALL],\n    drop: (item, monitor) => {\n      const delta = monitor.getDifferenceFromInitialOffset();\n      let left = Math.round(item.left + delta.x);\n      let top = Math.round(item.top + delta.y);\n      if (ref.current) {\n        const {\n          offsetWidth,\n          offsetHeight\n        } = ref.current;\n\n        // Ensure the item stays within the bounds of ParkingArea\n        left = Math.max(0, Math.min(left, offsetWidth - item.width));\n        top = Math.max(0, Math.min(top, offsetHeight - item.height));\n      }\n      moveSpace(item.id, left, top);\n    }\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    className: \"parking-area\",\n    ref: drop,\n    children: spaces.map(space => /*#__PURE__*/_jsxDEV(DraggableResizableItem, {\n      id: space.id,\n      type: space.type,\n      left: space.left,\n      top: space.top,\n      width: space.width,\n      height: space.height,\n      onResize: resizeSpace,\n      onMove: moveSpace,\n      onDelete: deleteSpace,\n      children: space.type\n    }, space.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(ParkingArea, \"jNyD3LiDULwN1wggB3ULPaLZVmI=\", false, function () {\n  return [useDrop];\n});\n_c = ParkingArea;\nexport default ParkingArea;\nvar _c;\n$RefreshReg$(_c, \"ParkingArea\");","map":{"version":3,"names":["React","useRef","useDrop","DraggableResizableItem","ItemTypes","jsxDEV","_jsxDEV","ParkingArea","spaces","moveSpace","resizeSpace","deleteSpace","_s","ref","drop","accept","VILLA","PARKING","EXIT","WALL","item","monitor","delta","getDifferenceFromInitialOffset","left","Math","round","x","top","y","current","offsetWidth","offsetHeight","max","min","width","height","id","className","children","map","space","type","onResize","onMove","onDelete","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mac/project/villa-parking-management/frontend/src/components/ParkingArea.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport { useDrop } from 'react-dnd';\nimport DraggableResizableItem from './DraggableResizableItem';\nimport { ItemTypes } from './ItemTypes';\nimport '../styles/ParkingArea.css';\n\nconst ParkingArea = ({ spaces, moveSpace, resizeSpace, deleteSpace }) => {\n  const ref = useRef(null);\n\n  const [, drop] = useDrop(() => ({\n    accept: [ItemTypes.VILLA, ItemTypes.PARKING, ItemTypes.EXIT, ItemTypes.WALL],\n    drop: (item, monitor) => {\n      const delta = monitor.getDifferenceFromInitialOffset();\n      let left = Math.round(item.left + delta.x);\n      let top = Math.round(item.top + delta.y);\n\n      if (ref.current) {\n        const { offsetWidth, offsetHeight } = ref.current;\n\n        // Ensure the item stays within the bounds of ParkingArea\n        left = Math.max(0, Math.min(left, offsetWidth - item.width));\n        top = Math.max(0, Math.min(top, offsetHeight - item.height));\n      }\n\n      moveSpace(item.id, left, top);\n    },\n  }));\n\n  return (\n    <div ref={ref} className=\"parking-area\" ref={drop}>\n      {spaces.map((space) => (\n        <DraggableResizableItem\n          key={space.id}\n          id={space.id}\n          type={space.type}\n          left={space.left}\n          top={space.top}\n          width={space.width}\n          height={space.height}\n          onResize={resizeSpace}\n          onMove={moveSpace}\n          onDelete={deleteSpace}\n        >\n          {space.type}\n        </DraggableResizableItem>\n      ))}\n    </div>\n  );\n};\n\nexport default ParkingArea;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,OAAO,QAAQ,WAAW;AACnC,OAAOC,sBAAsB,MAAM,0BAA0B;AAC7D,SAASC,SAAS,QAAQ,aAAa;AACvC,OAAO,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,WAAW,GAAGA,CAAC;EAAEC,MAAM;EAAEC,SAAS;EAAEC,WAAW;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACvE,MAAMC,GAAG,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAExB,MAAM,GAAGa,IAAI,CAAC,GAAGZ,OAAO,CAAC,OAAO;IAC9Ba,MAAM,EAAE,CAACX,SAAS,CAACY,KAAK,EAAEZ,SAAS,CAACa,OAAO,EAAEb,SAAS,CAACc,IAAI,EAAEd,SAAS,CAACe,IAAI,CAAC;IAC5EL,IAAI,EAAEA,CAACM,IAAI,EAAEC,OAAO,KAAK;MACvB,MAAMC,KAAK,GAAGD,OAAO,CAACE,8BAA8B,CAAC,CAAC;MACtD,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACN,IAAI,CAACI,IAAI,GAAGF,KAAK,CAACK,CAAC,CAAC;MAC1C,IAAIC,GAAG,GAAGH,IAAI,CAACC,KAAK,CAACN,IAAI,CAACQ,GAAG,GAAGN,KAAK,CAACO,CAAC,CAAC;MAExC,IAAIhB,GAAG,CAACiB,OAAO,EAAE;QACf,MAAM;UAAEC,WAAW;UAAEC;QAAa,CAAC,GAAGnB,GAAG,CAACiB,OAAO;;QAEjD;QACAN,IAAI,GAAGC,IAAI,CAACQ,GAAG,CAAC,CAAC,EAAER,IAAI,CAACS,GAAG,CAACV,IAAI,EAAEO,WAAW,GAAGX,IAAI,CAACe,KAAK,CAAC,CAAC;QAC5DP,GAAG,GAAGH,IAAI,CAACQ,GAAG,CAAC,CAAC,EAAER,IAAI,CAACS,GAAG,CAACN,GAAG,EAAEI,YAAY,GAAGZ,IAAI,CAACgB,MAAM,CAAC,CAAC;MAC9D;MAEA3B,SAAS,CAACW,IAAI,CAACiB,EAAE,EAAEb,IAAI,EAAEI,GAAG,CAAC;IAC/B;EACF,CAAC,CAAC,CAAC;EAEH,oBACEtB,OAAA;IAAKO,GAAG,EAAEA,GAAI;IAACyB,SAAS,EAAC,cAAc;IAACzB,GAAG,EAAEC,IAAK;IAAAyB,QAAA,EAC/C/B,MAAM,CAACgC,GAAG,CAAEC,KAAK,iBAChBnC,OAAA,CAACH,sBAAsB;MAErBkC,EAAE,EAAEI,KAAK,CAACJ,EAAG;MACbK,IAAI,EAAED,KAAK,CAACC,IAAK;MACjBlB,IAAI,EAAEiB,KAAK,CAACjB,IAAK;MACjBI,GAAG,EAAEa,KAAK,CAACb,GAAI;MACfO,KAAK,EAAEM,KAAK,CAACN,KAAM;MACnBC,MAAM,EAAEK,KAAK,CAACL,MAAO;MACrBO,QAAQ,EAAEjC,WAAY;MACtBkC,MAAM,EAAEnC,SAAU;MAClBoC,QAAQ,EAAElC,WAAY;MAAA4B,QAAA,EAErBE,KAAK,CAACC;IAAI,GAXND,KAAK,CAACJ,EAAE;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAYS,CACzB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACrC,EAAA,CA1CIL,WAAW;EAAA,QAGEL,OAAO;AAAA;AAAAgD,EAAA,GAHpB3C,WAAW;AA4CjB,eAAeA,WAAW;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}